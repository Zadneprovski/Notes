ПИД-регулятор (пропорционально-интегрально-дифференциальный регулятор) — это устройство, используемое в системах автоматического управления для поддержания заданного значения величины (например, температуры, давления или скорости). Он работает по принципу управления на основе ошибки, которая определяется как разница между заданным значением и текущим значением контролируемой величины.

ПИД-регулятор состоит из трех компонентов:

1. **Пропорциональный (P)**: Этот компонент отвечает за текущее значение ошибки. Чем больше ошибка, тем больше управляющее воздействие. Это позволяет быстро реагировать на изменения, но может приводить к устойчивым отклонениям.
    
2. **Интегральный (I)**: Этот компонент учитывает накопленную ошибку за все время работы регулятора. Он помогает устранить устойчивые отклонения, так как со временем накапливает влияние ошибки. Однако, избыточная интеграция может привести к перерегулированию.
    
3. **Дифференциальный (D)**: Этот компонент предсказывает будущее поведение ошибки, основываясь на её текущем изменении. Он позволяет сгладить реакции системы и уменьшить колебания. Но его настройка требует аккуратности, так как может увеличить шум.

$$u(t)=Kp⋅e(t)+Ki\cdot \int_0^te(τ) dτ+Kd⋅\frac{de(t)}{dt}$$
Вычисление выходного значения ПИД-регулятора осуществляется по следующей формуле:



где:

- $u(t$) — выходное значение регулятора (управляющее воздействие).
- $e(t)$ — ошибка в момент времени ttt (разница между заданным и текущим значением).
- $Kp$ — коэффициент пропорциональности.
- $Ki$ — коэффициент интеграции.
- $Kd$— коэффициент дифференцирования.
- $\int_0^t e(\tau) \, d\tau$ — интеграл ошибки за время от 0 до ttt.
- $\frac{de(t)}{dt}$​ — производная ошибки по времени.
### Шаги для вычисления:

1. **Определите ошибку**:
    
    $$e(t)=заданное\ значение−текущее\ значение$$
2. **Рассчитайте интеграл ошибки**: Для простоты можно использовать численное интегрирование. Например, если вычисляете значение на каждом шаге времени:
    
    $$\int_0^t e(\tau) \, d\tau \approx \sum_{i=0}^{n} e(i) \cdot \Delta t$$
    
    где $\Delta t$— шаг по времени.
    
3. **Рассчитайте производную ошибки**: Также можно использовать разностные методы:
    
    $$\frac{de(t)}{dt} \approx \frac{e(t) - e(t - \Delta t)}{\Delta t}​$$
4. **Подставьте значения в формулу**: После вычисления ошибки, интеграла и производной, подставьте их в формулу ПИД-регулятора.

### Пример:

Предположим:

- $K_p$=2
- $K_i$=1
- $K_d = 0.5$
- На текущий момент $e(t) = 1$
- За предыдущий шаг интеграл ошибки $\approx 2$
- Производная ошибки $\approx 0.2$

Тогда:

$$u(t) = 2 \cdot 1 + 1 \cdot 2 + 0.5 \cdot 0.2 = 2 + 2 + 0.1 = 4.1$$

Это значение $u(t)$ будет управляющим воздействием на систему в данный момент времени.