Формат сообщения J1939 базируется на протоколе CAN (Controller Area Network) и включает в себя расширенный 29-битный идентификатор. Он структурирован для передачи информации между электронными блоками управления (ЭБУ) в транспортных средствах. Вот основные составляющие J1939 сообщения:
### 1. **Идентификатор (29 бит)**

29-битный идентификатор (CAN 2.0B) делится на несколько полей:

- **Priority (3 бита):** Уровень приоритета сообщения. Меньшее значение означает более высокий приоритет.
- **Reserved (1 бит):** Зарезервированное поле, обычно устанавливается в `0`.
- **Data Page (1 бит):** Определяет принадлежность PGN (Parameter Group Number) к основной или дополнительной странице.
- **PDU Format (8 бит):** Формат протокольного блока данных. Используется для определения назначения сообщения.
- **PDU Specific (8 бит):** Конкретный адрес получателя или группы.
- **Source Address (8 бит):** Адрес ЭБУ, отправляющего сообщение.

---

### 2. **Данные (0–8 байт)**

Поле данных передает полезную информацию, организованную в зависимости от типа PGN. Длина данных варьируется от 0 до 8 байт, что соответствует стандарту CAN.
Данные в J1939 структурированы на основе **SPN** (Suspect Parameter Number) — это идентификаторы отдельных параметров, которые определяют конкретные измеряемые значения или команды. SPN используются для интерпретации содержимого сообщений J1939 и связаны с PGN (Parameter Group Number).

---

### Пример CAN-фрейма J1939

Допустим, передается сообщение со следующими характеристиками:

- **Priority:** 6
- **Data Page:** 0
- **PDU Format:** 240 (групповое сообщение)
- **PDU Specific:** 255 (всем устройствам)
- **Source Address:** 130
- **Данные:** `0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08`

29-битный идентификатор будет выглядеть так (в шестнадцатеричном формате):
```css
0x18F0FF82
```
А полный CAN-фрейм:
```css
[ID: 0x18F0FF82] [Данные: 01 02 03 04 05 06 07 08]
```


![[SAEJ1939_71_март2011.pdf]]