
Для начала нужно установить Docker и make на Windows:

Перейдите на официальную страницу загрузки Docker и скачайте версию для Windows.

**Проверьте, что Docker установлен**: В PowerShell или командной строке выполните команду:
```
docker --version
```

Установка утилиты make:
Установка через **Chocolatey**
Если у вас нет пакетного менеджера Chocolatey, вы можете установить его с помощью PowerShell:
Откройте PowerShell от имени администратора и выполните команду:
```
Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
```
После установки Chocolatey выполните команду для установки `make`:
```
choco install make
```


Нужно создать несколько компонентов, которые позволят связать контейнер с вашей системой сборки (Make) и обеспечить корректный запуск команды `mypy`.

Вот шаги для реализации:

### 1. **Создание Docker-контейнера**

Для начала, нужно создать Docker-контейнер, в котором будет выполнена проверка типов с помощью `mypy`. Этот контейнер должен быть настроен так, чтобы внутри него был установлен Python, все зависимости проекта и сама команда для проверки типов.

#### Пример Dockerfile:

Создайте файл `Dockerfile` в корне вашего проекта:
```Dockerfile
# Используем официальный Python образ
FROM python:3.12-slim

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем файлы проекта в контейнер
COPY . .

# Устанавливаем зависимости проекта
RUN pip install poetry && poetry install

# Устанавливаем mypy для проверки типов
RUN poetry add --dev mypy

# Команда по умолчанию для запуска контейнера (опционально)
CMD ["poetry", "run", "mypy", "typeannotations"]
```

### 2. **Создание файла `Makefile`**

Теперь вам нужно настроить файл `Makefile`, чтобы при вызове команды `make typing` запускалась проверка типов в контейнере.

#### Пример Makefile:

Создайте файл `Makefile` в корне вашего проекта:
```Makefile
# Переменная для имени Docker образа  
IMAGE_NAME = typing-checker  
  
# Цель для создания Docker образа  
build:  
    docker build -t $(IMAGE_NAME) .  
  
# Цель для запуска проверки типов  
typing: build  
    docker run --rm $(IMAGE_NAME)
```

### 3. **Запуск проверки типов через Make**

Теперь, когда у вас есть Dockerfile и Makefile, вы можете выполнять проверку типов с помощью команды:
```
make typing
```

Эта команда:

1. **Строит Docker-образ** с помощью цели `build` в `Makefile`, если образ еще не был построен.
2. **Запускает контейнер**, который выполняет проверку типов с помощью `mypy`, установленного внутри контейнера.

### Сборка и запуск Docker:

- Сначала пересоберите Docker образ:
```
docker build -t typing-checker .
```

- После этого запустите контейнер:
```
docker run --rm typing-checker
```
### 4. **Пояснение шагов**

- **Dockerfile**:
    - Он создает контейнер с установленным Python 3.12.
    - Использует Poetry для установки зависимостей проекта.
    - Устанавливает `mypy` как dev-зависимость, чтобы выполнять проверку типов.
- **Makefile**:
    - Команда `make build` создает Docker-образ.
    - Команда `make typing` запускает контейнер с созданным образом и выполняет команду `mypy` в контейнере.