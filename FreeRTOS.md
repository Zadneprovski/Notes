[[Передача в xTaskCreate нестатической функции]]
[[Создание статической задачи]]
[[Отладка]]

При создании задачи, размер стека передается в словах, а не байтах.

**TCB (Task Control Block)** ≈ 48 байт

Куча FreeRTOS - это глобальный массив, объявлен в файле heap_x.c :
`static uint8_t ucHeap[ configTOTAL_HEAP_SIZE ];`
Размер кучи нужно подбирать таким образом, чтобы помещались все задачи, но если сделать его слишком большим, то возникнет неопределенное поведение, так как главному стеку микроконтроллера (MSP) негде будет располагаться.

Стек задачи выделяется из кучи FreeRTOS (если схема распределения памяти не heap1), при том из кучи будет выделяться память, равная не размеру стека задачи, а гораздо больше.