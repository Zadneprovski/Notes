### `__enter__` и `__exit__` в Python (Менеджеры контекста)

Это магические методы, которые позволяют объекту **работать в контексте `with ...:`**, автоматически управляя ресурсами.

---

### **1. Что делают `__enter__` и `__exit__`?**

Они используются в **менеджерах контекста** (`context manager`), чтобы управлять ресурсами (например, файлами, соединениями с базой данных, сессиями).

|Метод|Что делает?|
|---|---|
|`__enter__()`|Выполняется при входе в `with`, подготавливает ресурс.|
|`__exit__()`|Выполняется при выходе из `with`, освобождает ресурс (даже если произошла ошибка).|