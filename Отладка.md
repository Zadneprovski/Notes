
```cpp
UBaseType_t uxHighWaterMark = uxTaskGetStackHighWaterMark(nullptr);
```
- Возвращает минимальный размер стека в словах с момента запуска задачи

```cpp
xPortGetFreeHeapSize()
```
- Возвращает общий объем пространства кучи в байтах, который остается нераспределенным при вызове функции

```cpp
xPortGetMinimumEverFreeHeapSize()
```
- Возвращает минимальный объем свободного пространства кучи, который существовал в системе, когда приложение FreeRTOS загружалось.

### Обнаружение переполнения стека — метод 1
Вероятно, что стек достигнет своего наибольшего (самого глубокого) значения после того, как ядро ​​RTOS выведет задачу из состояния выполнения, поскольку в этот момент стек будет содержать контекст задачи. В этот момент ядро ​​RTOS может проверить, что указатель стека процессора остается в допустимом пространстве стека. Функция перехвата переполнения стека вызывается, если указатель стека содержит значение, выходящее за пределы допустимого диапазона стека.

Этот метод быстрый, но не гарантирует обнаружения всех переполнений стека. Установите configCHECK_FOR_STACK_OVERFLOW на 1, чтобы использовать этот метод.

### Обнаружение переполнения стека — метод 2

Когда задача создается впервые, ее стек заполняется известным значением. При выгрузке задачи из состояния выполнения ядро ​​RTOS может проверить последние 16 байт в допустимом диапазоне стека, чтобы убедиться, что эти известные значения не были перезаписаны задачей или прерыванием. Функция переполнения стека вызывается, если любой из этих 16 байтов не остается в своем начальном значении.

Этот метод менее эффективен, чем метод один, но все еще довольно быстр. Он с большой вероятностью отловит переполнения стека, но все еще не гарантирует, что отловит все переполнения.

Чтобы использовать этот метод, установите configCHECK_FOR_STACK_OVERFLOW на 2.

### Обнаружение переполнения стека — метод 3

Чтобы использовать этот метод, установите configCHECK_FOR_STACK_OVERFLOW на 3.

Этот метод доступен только для выбранных портов. Когда он доступен, этот метод включает проверку стека ISR. При обнаружении переполнения стека ISR срабатывает утверждение. Обратите внимание, что функция перехвата переполнения стека в этом случае не вызывается, поскольку она относится к стеку задач, а не к стеку ISR.